!function(t){t(function(){var a=function(a){return function(e){e.preventDefault();var n=t(this).parent().parent(),s=n.find(a);t(".result input",n).val(t("input.raw-value",s).val()),i()}},i=function(){var a=[];t(".mergetable tr.merge-row").each(function(){var i=t(this).find("td.result"),e=t(this).find("td.origin"),n=t(this).find("td.other"),s=t(this).find("td:first").attr("data-content");t("td",this).removeClass("selected"),t("input.raw-value",n).val()===t("input.raw-value",e).val()?t("p.display",i).text(t("p.display",e).text()):t("input.raw-value",i).val()===t("input.raw-value",e).val()?(t(this).find("td.origin").addClass("selected"),t("p.display",i).text(t("p.display",e).text())):t("input.raw-value",i).val()===t("input.raw-value",n).val()&&(t(this).find("td.other").addClass("selected"),t("p.display",i).text(t("p.display",n).text()),a.push(s)),t("input[name=field_names]").val(a)}),t(".mergetable tr.preview-row").each(function(){t(this).find("td.result"),t(this).find("td.origin"),t(this).find("td.other"),t(this).find("td:first").attr("data-content");t("td",this).removeClass("selected"),t(".original .display",this).text()!==t(".result .display",this).text()&&t(this).addClass("changed")})};t("a.origin").click(a("td.origin")),t("a.other").click(a("td.other")),t("a.swap").click(function(a){a.preventDefault();var e=[],n=[],s=t('input[name="master_pk"]'),l=t('input[name="other_pk"]');t(".column.origin").each(function(){e.push([t("input.raw-value",this).val(),t(".display",this).text()])}),t(".column.other").each(function(){n.push([t("input.raw-value",this).val(),t(".display",this).text()])}),e.push(s.val()),n.push(l.val()),s.val(n.pop()),l.val(e.pop()),t('span[id="master_pk"]').text(s.val()),t('span[id="other_pk"]').text(l.val()),t(t(".column.origin").get().reverse()).each(function(){var a=n.pop();t("input.raw-value",this).val(a[0]),t(".display",this).text(a[1])}),t(t(".column.other").get().reverse()).each(function(){var a=e.pop();t("input.raw-value",this).val(a[0]),t(".display",this).text(a[1])}),i()}),i()})}(django.jQuery);
